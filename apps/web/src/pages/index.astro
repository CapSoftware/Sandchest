---
import "../styles/global.css";
import BaseLayout from "../layouts/BaseLayout.astro";
import Nav from "../components/Nav.astro";
import Hero from "../components/Hero.astro";
import BentoGrid from "../components/BentoGrid.astro";
import CodeExample from "../components/CodeExample.astro";
import Cta from "../components/Cta.astro";
---

<BaseLayout>
  <main class="flex flex-col pb-20" style={`gap: var(--vertical-padding);`}>
    <div class="page-container">
      <Nav />
      <div>
        <Hero />
        <div class="reveal">
          <BentoGrid />
        </div>
        <div class="reveal">
          <CodeExample />
        </div>
        <div class="reveal">
          <Cta />
        </div>
      </div>
    </div>
    <div class="reveal text-center text-text-weak text-[13px]">
      <span>&copy; 2026 Sandchest.com</span>
    </div>
  </main>
</BaseLayout>

<script>
  // Scroll-triggered reveal animations
  const reveals = document.querySelectorAll('.reveal');

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('revealed');
        observer.unobserve(entry.target);
      }
    });
  }, {
    threshold: 0.1,
    rootMargin: '0px 0px -40px 0px',
  });

  reveals.forEach(el => observer.observe(el));
</script>
